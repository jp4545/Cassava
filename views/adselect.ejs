<!DOCTYPE html>
<html>
<head>
<style>
.btn-group .button {
    background-color: #4CAF50; /* Green */
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    cursor: pointer;
    float: center;
    position: center;
}

.btn-group .button:hover {
    background-color: #3e8e41;
}

input[type=text], select {
    width: 45%;
    padding: 12px 20px;
    margin: 8px 0;
    display: inline-block;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
}

input[type=submit] {
    width: 10%;
    background-color: #4CAF50;
    color: white;
    padding: 14px 20px;
    margin: 8px 0;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

input[type=submit]:hover {
    background-color: #45a049;
}
.customers {
    font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

.customers td, #customers th {
    border: 1px solid #ddd;
    padding: 8px;
}

.customers tr:nth-child(even){background-color: #f2f2f2;}

.customers tr:hover {background-color: #ddd;}

.customers th {
    padding-top: 12px;
    padding-bottom: 12px;
    text-align: left;
    background-color: #4CAF50;
    color: white;
}

.workb {
    background-color: #4CAF50; /* Green */
    border: none;
    color: white;
    padding: 16px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    -webkit-transition-duration: 0.4s; /* Safari */
    transition-duration: 0.4s;
    cursor: pointer;
}

.workbutton {
    background-color: white; 
    color: black; 
    border: 2px solid #4CAF50;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
    
        $("#reg1").hide();
        $("#scmail1").hide();
        $("#smail1").hide();
        $("#snamee1").hide();
         fetchall();
    $("#reg").click(function(){
        $("#scmail1").hide();
        $("#snamee1").hide();
        $("#smail1").hide();
        $("#reg1").show();
    });
    $("#smailid").click(function(){
        $("#reg1").hide(); 
        $("#smail1").hide(); 
        $("#snamee1").hide();
        $("#scmail1").show();
        
    });
    $("#amailid").click(function(){
        $("#reg1").hide(); 
        $("#scmail1").hide();
        $("#snamee1").hide();       
        $("#smail1").show();
    });
    $("#snamee").click(function(){
        $("#reg1").hide(); 
        $("#scmail1").hide();       
        $("#smail1").hide();
        $("#snamee1").show();
    });
    
   $("#regbut").click(function(event){   
              searchresult1();
            });  
    $("#scmailbut").click(function(event){   
              searchresult2();
            });
    $("#smailbut").click(function(event){   
              searchresult3();
            });
     $("#snameebut").click(function(event){   
              searchresult4();
            });
   function searchresult1()
  {
   var regbox = document.getElementById("regges");   
            
              $.ajax({
                  type: "POST",
                  url: "/fetchreg",
                  data:{ rg1: regbox.value },
                  success: function(docs) {
                   populates(docs);
                },
                error: function(jqXHR, textStatus, err) {
                  alert('text status '+textStatus+', err '+err)
                }
            });
  }
  function searchresult2()
  {
   var scmailbox = document.getElementById("scmail");   
           
              $.ajax({
                  type: "POST",
                  url: "/fetchscmail",
                  data:{ scm1: scmailbox.value },
                  success: function(docs) {
                   populates(docs);
                },
                error: function(jqXHR, textStatus, err) {
                  alert('text status '+textStatus+', err '+err)
                }
            });
  }
  
 function searchresult3()
  {
   var smailbox = document.getElementById("smail");   
           
              $.ajax({
                  type: "POST",
                  url: "/fetchsmail",
                  data:{ sm1: smailbox.value },
                  success: function(docs) {
                   populates(docs);
                },
                error: function(jqXHR, textStatus, err) {
                  alert('text status '+textStatus+', err '+err)
                }
            });
  }
  function searchresult4()
  {
   var snamebox = document.getElementById("snam");   
           
              $.ajax({
                  type: "POST",
                  url: "/fetchsname",
                  data:{ snm1: snamebox.value },
                  success: function(docs) {
                   populates(docs);
                },
                error: function(jqXHR, textStatus, err) {
                  alert('text status '+textStatus+', err '+err)
                }
            });
  }
  function populates(docs)
 {
  $('#mytable tr').not(':first').remove();
      var html = '';
      $.each(docs, function (i) {
          var num=i+1;
          html += '<tr><td>' + num
           + '</td><td>' + eval(JSON.stringify(docs[i].username))
           + '</td><td>' + eval(JSON.stringify(docs[i].name))
           + '</td><td>' + eval(JSON.stringify(docs[i].email))
           + '</td><td>' + eval(JSON.stringify(docs[i].researchtopic))
           + '</td><td>' + eval(JSON.stringify(docs[i].phonenumber))
           + '</td><td>' + eval(JSON.stringify(docs[i].researchsupervisior))
           + '</td><td>' + eval(JSON.stringify(docs[i].supervisioremail))
           + '</td></tr>';
        });
  $('#mytable tr').first().after(html);
 }


  function fetchall()
{
          
              $.ajax({
                  type: "POST",
                  url: "/viewall",
                  success: function(docs) {
                    populates(docs);
                },
                error: function(jqXHR, textStatus, err) {
                  alert('text status '+textStatus+', err '+err)
                }
            });
}


});
</script>
</head>
<center>
<body>
<br>
<div class="btn-group">
  <button id="reg" class="button">RegisterNumber</button>
  <button id="smailid" class="button">ScholarMailid </button>
  <button id="amailid" class="button">SupervisorMailid</button>
  <button id="snamee" class="button">SupervisorName</button>
</div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<form action="/workall" method="post"><button class="workb workbutton">Work Allocation</button></form>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<form action="/updateop" method="post"><button class="workb workbutton">update using options</button></form>
<br>
<p id="reg1"><br><input type="text" id="regges" name="rno" placeholder="Search By Register number"> 
&nbsp&nbsp&nbsp&nbsp&nbsp<input id="regbut" type="submit" value="search">
 </p>
<p id="scmail1"><br><input type="text" id="scmail" name="scmail" placeholder="Search By Scholar mail"> 
&nbsp&nbsp&nbsp&nbsp&nbsp<input  id="scmailbut" type="submit" value="search">
 </p>
<p id="smail1"><br><input type="text" id="smail" name="smail" placeholder="Search By Supervisior mail"> 
&nbsp&nbsp&nbsp&nbsp&nbsp<input id="smailbut" type="submit" value="search">
 </p>
 <p id="snamee1"><br><input type="text" id="snam" name="snam" placeholder="Search By Supervisior Name"> 
&nbsp&nbsp&nbsp&nbsp&nbsp<input id="snameebut" type="submit" value="search">
 </p>
</center>
<center>
<table id="mytable" class="customers">
            <tr>
                <th scope="col">s.no</th>
                <th scope="col">Register Number</th>
                <th scope="col">Scholar Name</th>
                <th scope="col">Scholar Email</th>
                 <th scope="col">Research Topic</th>
                <th scope="col">mobile number</th>
                <th scope="col">Research Supervisor</th>
                <th scope="col">Supervisor Email</th>
               </tr>
        </table>
</center>   
</body>
</html>

